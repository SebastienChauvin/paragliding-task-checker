(this["webpackJsonpparagliding-task-checker"]=this["webpackJsonpparagliding-task-checker"]||[]).push([[0],{41:function(e,t,r){},42:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(19),s=r.n(a),o=(r(41),r(8)),c=(r(42),r(3)),l=r(24),d=r.n(l),p=r(34),j=r(36),u=r(1),b={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa0F",color:"#bdbdbd",outline:"none",margin:10,transition:"border .24s ease-in-out"},h={borderColor:"#2196f3"},f={borderColor:"#00e676"},g={borderColor:"#ff1744"};function x(e){var t=Object(c.a)(Object(c.a)({},b),{},{color:"green",borderColor:"green"}),r=Object(u.jsx)("div",{className:"container",style:t,children:Object(u.jsx)("p",{children:e.message+" \u2713"})}),i=function(e){var t=Object(j.a)({onDrop:function(){var t=Object(p.a)(d.a.mark((function t(r){var n,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.length>0)){t.next=6;break}return n=r[0],t.next=4,n.text();case 4:i=t.sent,e.setter(i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r=t.getRootProps,i=t.getInputProps,a=t.isDragActive,s=t.isDragAccept,o=t.isDragReject,l=Object(n.useMemo)((function(){return Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},b),a?h:{}),s?f:{}),o?g:{})}),[a,o,s]);return Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",Object(c.a)(Object(c.a)({},r({style:l})),{},{children:[Object(u.jsx)("input",Object(c.a)({},i())),Object(u.jsx)("p",{children:e.message})]}))})}({message:e.message,setter:e.fileSetter});return e.file?r:i}var O=r(79),v=r(77),m=r(80),y=r(78),w=(r(47),r(25)),C=r.n(w),S=r(49),k=r(52),D={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"2px",margin:"2px",borderColor:"red",color:"red",borderStyle:"solid"},I={display:"flex",flexDirection:"row",alignSelf:"stretch",height:"100vh"};function N(e){for(var t,r,i=JSON.parse(e.tsk),a=S.parse(e.igc),s=Object(n.useState)(1),l=Object(o.a)(s,2),d=l[0],p=l[1],j=0,b=[],h=[],f=[],g=[],x=i.sss.timeGates[0],w=!1,N=0;N<a.fixes.length&&N/a.fixes.length<d;N++){var P=a.fixes[N],F=i.turnpoints[j];if(!w&&C()("1970-01-01 "+P.time+"Z")<C()("1970-01-01 "+x))g.push([P.latitude,P.longitude]);else if(w=!0,f.push([P.latitude,P.longitude]),null!=F)if(k.getDistance(P,F.waypoint)<F.radius){b.push(Object(u.jsx)("div",{style:Object(c.a)(Object(c.a)({},D),{},{color:"green",borderColor:"green",zIndex:N}),children:Object(u.jsx)("small",{children:F.waypoint.description})},"turnpoint-"+j));var M=[F.waypoint.lat,F.waypoint.lon];h.push(Object(u.jsx)(O.a,{center:M,pathOptions:{fillColor:"blue",color:"transparent",opacity:.25},radius:F.radius},"turnpoint-circle-"+j)),j++}}for(var z=i.turnpoints.length-1;z>=j;z--){var A="gray",W="FFF",B=.25;z===j&&(A="orange",W="orange",B=1);var G=i.turnpoints[z];b.splice(j,0,Object(u.jsx)("div",{style:Object(c.a)(Object(c.a)({},D),{},{borderColor:A,zIndex:z}),children:Object(u.jsx)("small",{children:G.waypoint.description})},"turnpoint-"+z));var J=[G.waypoint.lat,G.waypoint.lon];h.push(Object(u.jsx)(O.a,{center:J,pathOptions:{color:A,fillColor:W,opacity:B},radius:G.radius},"turnpoint-circle-"+z))}var L=i.turnpoints[0],T=[L.waypoint.lat,L.waypoint.lon],R=null!==(t=null===(r=a.fixes[Math.round(a.fixes.length*d-1)])||void 0===r?void 0:r.time)&&void 0!==t?t:"Nan";return Object(u.jsxs)("div",{style:I,children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:[Object(u.jsx)("h2",{children:"All turnpoints"}),b]}),Object(u.jsxs)("div",{className:"rightHandContainer",style:{alignSelf:"stretch",width:"100%",display:"flex",flexDirection:"column",height:"100vh"},children:[Object(u.jsx)("div",{className:"mapContainer",style:{flexGrow:1,display:"flex"},children:Object(u.jsxs)(v.a,{center:T,zoom:13,scrollWheelZoom:!1,children:[Object(u.jsx)(m.a,{attribution:'\xa9 <a href="https://stadiamaps.com/">Stadia Maps</a>, \xa9 <a href="https://openmaptiles.org/">OpenMapTiles</a> \xa9 <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',url:"https://{s}.tile.jawg.io/jawg-terrain/{z}/{x}/{y}{r}.png?access-token=OCSVqPtVG4tEq4zlKGa0sA3LW6bC5l528PJhTuBSPZ5BPvbjemWIyzaHd15iYV11"}),"                    ",h,Object(u.jsx)(y.a,{positions:g,color:"gray"}),Object(u.jsx)(y.a,{positions:f})]})}),Object(u.jsx)("div",{className:"flightProgress",style:{height:"80px",backgroundColor:"blue"},onMouseMove:function(e){var t=(e.screenX-e.target.offsetLeft)/e.target.clientWidth;p(t)},children:Object(u.jsx)("p",{children:R})})]})]})}var P={display:"flex",flexDirection:"row",alignItems:"center"};var F=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),r=t[0],i=t[1],a=Object(n.useState)(),s=Object(o.a)(a,2),c=s[0],l=s[1],d=x({message:"Upload igc file",file:r,fileSetter:i}),p=x({message:"Upload xctsk",file:c,fileSetter:l}),j=Object(u.jsxs)("div",{style:P,children:[d,p]});return null!=c&&null!=r&&(j=Object(u.jsx)(N,{tsk:c,igc:r})),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("header",{className:"App-header",children:j})})},M=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,81)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),i(e),a(e),s(e)}))};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(F,{})}),document.getElementById("root")),M()}},[[74,1,2]]]);
//# sourceMappingURL=main.442b229b.chunk.js.map