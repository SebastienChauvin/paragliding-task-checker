{"version":3,"sources":["reportWebVitals.js","Uploader.js","utils.js","Results.js","Submit.js","Rankings.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","compress","decompress","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","margin","transition","activeStyle","acceptStyle","rejectStyle","Uploader","props","style","useState","contents","setContents","React","window","location","hash","setHash","hashChangeHandler","useCallback","useEffect","addEventListener","removeEventListener","updateHash","newHash","useHash","a","fileSetter","inUrl","computeUrl","decodeContents","check","className","message","fileDrop","useDropzone","onDrop","acceptedFiles","length","file","text","setter","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","StyledDropzone","formatDuration","durationSec","Date","toISOString","substr","IGCParser","geolib","listStyle","containerStyle","alignSelf","height","Results","name","wing","progress","setProgress","sent","setSent","setEntryReceived","igc","setIgc","parse","lenient","e","console","error","turnpointIndex","turnpoints","circles","positions","turnpointTimes","taskDuration","essIndex","i","fixes","fix","turnpoint","task","push","latitude","longitude","getDistance","waypoint","radius","time","moment","ess","type","zIndex","description","opacity","center","lat","lon","Circle","pathOptions","fillColor","valid","saveEntry","date","duration","fetch","method","body","JSON","stringify","resp","ok","catch","addResult","str","fontSize","slice","splice","initialTurn","Math","round","overflow","width","flexGrow","MapContainer","zoom","scrollWheelZoom","TileLayer","attribution","url","Polyline","min","max","class","id","value","onChange","event","percentage","target","Submit","setName","setWing","submitted","setSubmitted","localStorage","getItem","setItem","pageURL","URL","inputStyle","href","toString","action","placeholder","disabled","onClick","rankingUrl","Wing","list","setList","fetched","setFetched","log","json","data","float","textAlign","map","paddingRight","Attempts","attempts","Rankings","marginTop","to","App","path","element","ReactDOM","render","StrictMode","hashType","document","getElementById"],"mappings":"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","file":"static/js/main.03e90b29.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useMemo } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nconst { compress, decompress } = require('shrink-string')\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa0F',\n    color: '#bdbdbd',\n    outline: 'none',\n    margin: 10,\n    transition: 'border .24s ease-in-out'\n};\n\nconst activeStyle = {\n    borderColor: '#2196f3'\n};\n\nconst acceptStyle = {\n    borderColor: '#00e676'\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744'\n};\n\nfunction StyledDropzone(props) {\n    const {\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject,\n    } = useDropzone({\n        onDrop: async acceptedFiles => {\n            if (acceptedFiles.length > 0) {\n                const file = acceptedFiles[0];\n                const contents = await file.text();\n                props.setter(contents);\n            }\n        }\n    });\n\n    const style = useMemo(() => ({\n        ...baseStyle,\n        ...(isDragActive ? activeStyle : {}),\n        ...(isDragAccept ? acceptStyle : {}),\n        ...(isDragReject ? rejectStyle : {})\n    }), [\n        isDragActive,\n        isDragReject,\n        isDragAccept\n    ]);\n\n    return (\n        <div className=\"container\">\n            <div {...getRootProps({ style })}>\n                <input {...getInputProps()} />\n                <p>{props.message}</p>\n            </div>\n        </div>\n    );\n}\n\nconst useHash = () => {\n    const [hash, setHash] = React.useState(() => window.location.hash);\n  \n    const hashChangeHandler = React.useCallback(() => {\n      setHash(window.location.hash);\n    }, []);\n  \n    React.useEffect(() => {\n      window.addEventListener('hashchange', hashChangeHandler);\n      return () => {\n        window.removeEventListener('hashchange', hashChangeHandler);\n      };\n    }, []);\n  \n    const updateHash = React.useCallback(\n      newHash => {\n        if (newHash !== hash) window.location.hash = newHash;\n      },\n      [hash]\n    );\n  \n    return [hash, updateHash];\n  };\n\nfunction Uploader(props) {\n    const style = {\n        ...baseStyle,\n        color: \"green\",\n        borderColor: \"green\"\n    };\n\n    const [contents, setContents] = useState();\n    const [hash, setHash] = useHash();\n\n    // Sets a new URL when asked\n    useEffect(() => {\n        props.fileSetter(contents);\n\n        async function computeUrl() {\n            let newHash = \"\";\n            if(contents) {\n                newHash = await compress(contents)\n            }\n            setHash(newHash);\n        }\n        if (props.inUrl) {\n            computeUrl();\n        }\n    }, [contents, props])\n\n    // Loads the contents from a URL\n    useEffect(() => {\n        async function decodeContents(hash) {\n            setContents(await decompress(hash));\n        }\n        if (hash && props.inUrl) {\n            decodeContents(hash);\n        }\n    }, [hash])\n\n    const check = <div className=\"container\" style={style}>\n        <p>{props.message + ' \\u2713'}</p>\n    </div>\n\n    const fileDrop = StyledDropzone({\n        message: props.message,\n        setter: setContents\n    });\n\n    if (props.file)\n        return check;\n    return fileDrop;\n}\n\nexport { Uploader };","export function formatDuration(durationSec) {\n  return new Date(durationSec * 1000).toISOString().substr(12, 7);\n}","import {useEffect, useState} from 'react';\nimport {Circle, MapContainer, Polyline, TileLayer} from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport moment from 'moment';\nimport task from './task.json';\nimport {formatDuration} from './utils';\n\nconst IGCParser = require('igc-parser');\nconst geolib = require('geolib');\n\nconst listStyle = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '2px',\n  margin: '2px',\n  borderColor: 'red',\n  color: 'red',\n  borderStyle: 'solid',\n};\n\nconst containerStyle = {\n  display: 'flex',\n  flexDirection: 'row',\n  alignSelf: 'stretch',\n  height: '100vh',\n};\n\nfunction Results(props) {\n  const {name, wing} = props;\n  const [progress, setProgress] = useState(1);\n  const [sent, setSent] = useState(false);\n  const [entryReceived, setEntryReceived] = useState(false);\n  const [igc, setIgc] = useState();\n\n  useEffect(() => {\n    try {\n      setIgc(IGCParser.parse(props.igc, {lenient: true}));\n    } catch (e) {\n      console.error('Cannot parse', props.igc, e);\n    }\n  }, [props.igc]);\n\n  let turnpointIndex = 0;\n  let turnpoints = [];  // Turnpoints to show\n  let circles = []; // Circles to show on the map\n  let positions = [];\n\n  let turnpointTimes = [];\n  let taskDuration = 0;\n  let essIndex = 0;\n\n  if (!igc) {\n    return <span>Fichier IGC ?</span>;\n  }\n\n  for (let i = 0;\n      i < igc.fixes.length && i / igc.fixes.length < progress;\n      i++) {\n    const fix = igc.fixes[i];\n    const turnpoint = task.turnpoints[turnpointIndex];\n\n    positions.push([fix.latitude, fix.longitude]);\n\n    if (!turnpoint) {\n      continue;\n    }\n    const distance = geolib.getDistance(fix, turnpoint.waypoint);\n    if (distance < turnpoint.radius) {\n      turnpointTimes.push(fix.time);\n      const durationSec = (moment(`1970-01-01 ${fix.time}Z`) -\n          moment(`1970-01-01 ${turnpointTimes[0]}Z`)) / 1000;\n      let ess = turnpoint.type === 'ESS';\n      if (ess || (!taskDuration && turnpointIndex ===\n          task.turnpoints.length - 1)) {\n        if (ess) essIndex = turnpointIndex;\n        taskDuration = durationSec;\n      }\n      // We have hit a turnpoint, add it to a success list and move on\n      turnpoints.push(\n          <div key={'turnpoint-' + turnpointIndex} style={{\n            ...listStyle,\n            color: 'green',\n            borderColor: 'green',\n            zIndex: i,\n          }}\n          >\n            <small\n                style={{color: 'white'}}>{turnpoint.waypoint.description}</small>\n            <small>{fix.time}</small>\n            <small style={{\n              opacity: turnpointIndex === 0 ? 0 : 1,\n              color: ess ? 'white' : 'grey',\n            }}>{formatDuration(durationSec)}</small>\n          </div>,\n      );\n      let center = [turnpoint.waypoint.lat, turnpoint.waypoint.lon];\n      circles.push(<Circle center={center}\n                           pathOptions={{\n                             fillColor: 'blue',\n                             color: 'transparent',\n                             opacity: 0.25,\n                           }}\n                           radius={turnpoint.radius}\n                           key={'turnpoint-circle-' + turnpointIndex}/>);\n      turnpointIndex++;\n    }\n  }\n  const valid = task.turnpoints.length === turnpointIndex;\n  const saveEntry = {\n    igc: props.igc,\n    valid,\n    date: igc.date,\n    name,\n    wing,\n    duration: taskDuration,\n  };\n\n  if (!sent) {\n    fetch('https://lnk30ei5aj.execute-api.eu-west-3.amazonaws.com/dev/save',\n        {method: 'POST', body: JSON.stringify(saveEntry)}).then((resp) => {\n      setEntryReceived(resp.ok);\n    }).catch((e) => console.error('sending', e));\n    setSent(true);\n  }\n\n  const addResult = (str) => {\n    turnpoints.push(<pre style={{fontSize: 14}}>{str}</pre>);\n  };\n  addResult(`Heure début: ${turnpointTimes[0]}`);\n  if (essIndex) addResult(`Heure ESS: ${turnpointTimes[essIndex]}`);\n  if (valid) {\n    addResult(`Heure fin: ${turnpointTimes.slice(-1)[0]}`);\n    addResult(`Durée task: ${formatDuration(taskDuration)}`);\n  } else {\n    addResult('Non valide');\n  }\n\n  addResult(sent ? 'Envoyé' : '' + ' ' + entryReceived ? ', reçu' : '');\n\n  // Complete filling in all the waypoints we didn't get.\n  for (let i = task.turnpoints.length - 1; i >= turnpointIndex; i--) {\n    // Show red for everything except for the next waypoint we're trying to hit\n    let color = 'gray';\n    let fillColor = 'FFF';\n    let opacity = 0.25;\n    if (i === turnpointIndex) {\n      color = 'orange';\n      fillColor = 'orange';\n      opacity = 1;\n    }\n\n    const turnpoint = task.turnpoints[i];\n    turnpoints.splice(turnpointIndex, 0, <div key={'turnpoint-' + i}\n                                              style={{\n                                                ...listStyle,\n                                                borderColor: color,\n                                                zIndex: i,\n                                              }}>\n      <small>{turnpoint.waypoint.description}</small>\n    </div>);\n    let center = [turnpoint.waypoint.lat, turnpoint.waypoint.lon];\n\n    circles.push(<Circle center={center}\n                         pathOptions={{\n                           color: color,\n                           fillColor: fillColor,\n                           opacity: opacity,\n                         }}\n                         radius={turnpoint.radius}\n                         key={'turnpoint-circle-' + i}/>);\n  }\n\n  const initialTurn = task.turnpoints[0];\n  const center = [initialTurn.waypoint.lat, initialTurn.waypoint.lon];\n  const time = igc.fixes[Math.round(igc.fixes.length * progress - 1)]?.time ??\n      'Nan';\n\n  return <div style={containerStyle}>\n    <div style={{display: 'flex', flexDirection: 'column', overflow: 'auto'}}>\n      <h2>Challenge Charance</h2>\n      {turnpoints}\n    </div>\n    <div className=\"rightHandContainer\"\n         style={{\n           alignSelf: 'stretch',\n           width: '100%',\n           display: 'flex',\n           flexDirection: 'column',\n           height: '100vh',\n         }}>\n      <div className=\"mapContainer\" style={{flexGrow: 1, display: 'flex'}}>\n        <MapContainer center={center} zoom={13} scrollWheelZoom={false}>\n          <TileLayer\n              attribution='&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.jawg.io/jawg-terrain/{z}/{x}/{y}{r}.png?access-token=OCSVqPtVG4tEq4zlKGa0sA3LW6bC5l528PJhTuBSPZ5BPvbjemWIyzaHd15iYV11\"\n          /> {circles}\n          <Polyline positions={positions}/>\n        </MapContainer>\n\n      </div>\n      <div className=\"flightProgress\"\n           style={{height: '80px', backgroundColor: 'blue', display: 'flex'}}>\n        <input type=\"range\" min=\"1\" max=\"100\" class=\"slider\" id=\"myRange\"\n               style={{flexGrow: 1}}\n               value={progress * 100} onChange={(event) => {\n          let percentage = event.target.value / 100;\n          setProgress(percentage);\n        }}/>\n        <p>{time}</p>\n      </div>\n    </div>\n  </div>;\n}\n\nexport {Results};\n\n\n","import './App.css';\nimport { Uploader } from './Uploader.js';\nimport {useEffect, useState} from 'react';\nimport { Results } from './Results.js';\n\n\nconst style = {\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n}\n\nfunction Submit() {\n  const [igc, setIgc] = useState();\n  const [name, setName] = useState();\n  const [wing, setWing] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    setName(localStorage.getItem('name') ?? '');\n    setWing(localStorage.getItem('wing'));\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('name', name);\n  }, [name]);\n\n  useEffect(() => {\n    localStorage.setItem('wing', wing);\n  }, [wing]);\n\n  // Component for uploading the files\n  let pageURL = new URL(window.location);\n  pageURL.hash = \"\";\n  let inputStyle = {margin: 10, padding: 5, fontSize: 18};\n\n  function submit() {\n    setSubmitted(true);\n  }\n\n  if (submitted) {\n    return <Results igc={igc} name={name} wing={wing}/>;\n  }\n\n  return <div style={{display: 'flex', alignItems: 'center', flexDirection: 'column'}}>\n    <h1><a href={pageURL.toString()} style={{ color: 'white' }}>Challenge Charance</a></h1>\n    <div style={style}>\n      <form action=\"#\">\n        <Uploader file={igc} fileSetter={setIgc} message={'Fichier igc'}/>\n        <input style={inputStyle} type={'text'} value={name} onChange={(e) => setName(e.target.value)} placeholder={'Nom Prénom'}/>\n        <select style={inputStyle} name={'wing'} onChange={(e) => setWing(e.target.value)} value={wing}>\n          <option value={''}>-</option>\n          <option value={'A'}>EN-A</option>\n          <option value={'B'}>EN-B</option>\n          <option value={'C'}>EN-C</option>\n          <option value={'D'}>EN-D</option>\n          <option value={'CCC'}>CCC</option>\n        </select>\n        <br/>\n        <input style={inputStyle} type={'submit'} value={'Envoyer'} disabled={!name || !wing || !igc} onClick={submit}/>\n      </form>\n    </div>\n  </div>;\n}\n\nexport default Submit;\n","import {Link} from 'react-router-dom';\nimport {useState} from 'react';\nimport {formatDuration} from './utils';\n\nconst rankingUrl = `https://lnk30ei5aj.execute-api.eu-west-3.amazonaws.com/dev/ranking/`;\n\nfunction Wing(props) {\n  const {type} = props;\n  const [list, setList] = useState(null);\n  const [fetched, setFetched] = useState(false);\n\n  if (!fetched) {\n    console.log('loading');\n    setFetched(true);\n    fetch(\n        `${rankingUrl}${type}`,\n        {method: 'GET'}).then((resp) => resp.json()).then(data => {\n      setList(data.list);\n      console.log(list);\n    }).catch((e) => console.error('receiving', e));\n  }\n\n  return <div style={{width: '600px', float: 'left'}}>\n    <h2>Classement {type}</h2>\n    <table style={{padding: 10, textAlign: 'left'}}>\n      {list?.map((e, i) => <tr>\n        <td style={{paddingRight: 30}}>{i + 1}.</td>\n        <td style={{paddingRight: 30}}>{e.name}</td>\n        <td style={{paddingRight: 30, fontSize: 20}}>{formatDuration(e.duration)}</td>\n        <td style={{paddingRight: 30, fontSize: 16}}>{e.date}</td>\n      </tr>)}\n    </table>\n  </div>;\n}\n\nfunction Attempts() {\n  const [list, setList] = useState(null);\n  const [fetched, setFetched] = useState(false);\n\n  if (!fetched) {\n    console.log('loading');\n    setFetched(true);\n    fetch(\n        `${rankingUrl}attempts`,\n        {method: 'GET'}).then((resp) => resp.json()).then(data => {\n      setList(data.list);\n      console.log(list);\n    }).catch((e) => console.error('receiving', e));\n  }\n\n  return <div style={{width: '600px', float: 'left'}}>\n    <h2>Nombre de vols valides</h2>\n    <table style={{padding: 10, textAlign: 'left'}}>\n      {list?.map((e, i) => <tr>\n        <td style={{paddingRight: 30}}>{i + 1}.</td>\n        <td style={{paddingRight: 30}}>{e.name}</td>\n        <td style={{paddingRight: 30, fontSize: 16}}>{e.attempts}</td>\n      </tr>)}\n    </table>\n  </div>;\n}\n\nexport function Rankings() {\n  return <>\n    <div className={'row'}>\n      <Wing type={'A'}/>\n      <Wing type={'B'}/>\n      <Wing type={'C'}/>\n      <Wing type={'D'}/>\n      <Wing type={'CCC'}/>\n      <Attempts/>\n    </div>\n    <div style={{backgroundColor: '#ddd', padding: 20, marginTop: 30}}>\n    <Link to={'/declaration'}>Declarer un vol</Link>\n    </div>\n  </>;\n}","import Submit from './Submit';\nimport {Route, Routes} from 'react-router-dom';\nimport {Rankings} from './Rankings';\n\nexport function App() {\n  return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Routes>\n            <Route path='/' element={<Rankings/>}/>\n            <Route path=\"/declaration\" element={<Submit/>}/>\n          </Routes>\n        </header>\n      </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport {App} from './App';\nimport {HashRouter} from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n      <HashRouter hashType={'noslash'}>\n        <App/>\n      </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}